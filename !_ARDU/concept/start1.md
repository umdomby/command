Сервер GO регистрирует IP для связи порт 5000
ESP32 регистрирует IP и порт для обмена данными, открытый в роутере
Приложение Windows .NET9 - тоже регистрирует свой ip и порт для связи, открытый в роутере
ддя ESP32 и Windows приложению нужны порты для связи, потому что у них нет статического ипи и сервер GO будет регистрировать имя устройства ip и порт, я правильно понял?
код пока не нужен
На ESP32 есть библиотеки для STUN (например, в ESP-IDF или lwIP-based).
В .NET — PinnedSTUN или свои запросы по RFC 8489.



# Рекомендации по адресам STUN/TURN сервера

| Протокол                  | Адрес в клиенте                          | Работает ли с IP?          | Рекомендация          |
|---------------------------|------------------------------------------|----------------------------|-----------------------|
| STUN UDP/TCP              | `stun:ardua.site:3478`                   | Да, но лучше домен         | Домен                |
| STUNS (TLS)               | `stuns:ardua.site:5349`                  | Нет (сертификат)           | Обязательно домен    |
| TURN UDP/TCP              | `turn:ardua.site:3478`                   | Да                         | Домен                |
| TURNS (TLS)               | `turns:ardua.site:5349`                  | Нет (сертификат)           | Обязательно домен    |
| TURN/TURNS с credentials  | `+ ?transport=udp/tcp` + username/password | —                          | —                    |

**Примечание:**  
Для защищённых соединений (TLS на порту 5349) обязательно использовать домен `ardua.site`, иначе сертификат будет невалиден.  
Для незащищённых соединений (порт 3478) IP-адрес технически работает, но рекомендуется использовать домен для единообразия и возможности смены IP в будущем.

