Команды мотора отправляются не чаще чем раз в 30 мс на каждый мотор
Только если скорость изменилась минимум на 5 единиц или изменилось направление
При отпускании джойстика стика и курков (value === 0) — мгновенная остановка, без задержки и гистерезиса - это особо продумай, так же когда курки кидают в 0 сделай дублирование команд через 100 мс об остановке мотора
HBT_MOTOR идёт только при активных моторах, так же когда пользователь нажимает кнопку отключить - то отправляется коммада об остановке моторов

Проблема в том, что ESP шлёт кучу ACK (подтверждений) не нужны!


мы отправляем стики и курки разными бинарными пакетами? и левый и правый стик так же разными бинарными пакетами? как лучше сделать один бинарный пакет для двух стиков и курков один или лучше остаитвить так же как сейчас, как сейчас реализоано и как лучще для скорости?


Всё работает:

Полная защита подключения
Перезапуск через 1 час
Мгновенная остановка моторов при потере связи
HBT_MOTOR работает
Управление моторами и серво не тронуто