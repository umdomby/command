BTS7960B 
74HC244 
- 
- VCC → 5В 
- GND → GND с ESP8266 
- L_IS, R_IS → no connect
- L_EN, R_EN → 5В
- D1 → L_PWM 
- D2 → R_PWM 


| Мотор | Пины пример (NodeMCU)     | Функция                  | Примечание                          |
|-------|---------------------------|--------------------------|-------------------------------------|
| 1     | D1 (GPIO5), D2 (GPIO4)    | LPWM, RPWM               | PWM ок                              |
| 2     | D5 (GPIO14), D6 (GPIO12)  | LPWM, RPWM               | PWM ок                              |
| 3     | D7 (GPIO13), D8 (GPIO15)  | LPWM, RPWM               | D8 — pull-down, но работает         |
| Общий | D3 (GPIO0) или D4         | EN (все драйверы HIGH)   | Можно один пин на все EN            |


ESP32
| Модуль BTS7960B | Пин на BTS7960 | Подключение              | GPIO номер | Маркировка на плате ESP32-S3 (типичная) | Примечание                          |
|-----------------|----------------|--------------------------|------------|------------------------------------------|-------------------------------------|
| Модуль 1        | L_PWM          | GPIO 4                   | 4          | 4 или IO4                                | PWM левый                           |
| Модуль 1        | R_PWM          | GPIO 5                   | 5          | 5 или IO5                                | PWM правый                          |
| Модуль 2        | L_PWM          | GPIO 6                   | 6          | 6 или IO6                                | PWM левый                           |
| Модуль 2        | R_PWM          | GPIO 7                   | 7          | 7 или IO7                                | PWM правый                          |
| Модуль 3        | L_PWM          | GPIO 15                  | 15         | 15 или IO15                              | PWM левый                           |
| Модуль 3        | R_PWM          | GPIO 16                  | 16         | 16 или IO16
L_EN           | 5V (прямо)
R_EN           | 5V (прямо)

BTS7960

| Назначение                          | Пин на плате | GPIO    | Константа в коде| Примечание                                   |
|:------------------------------------|:-------------|:--------|:----------------|:---------------------------------------------|
| Аналоговый вход                     | A0           | ADC0    | analogPin       | Чтение напряжения/тока аккумулятора          |
| PWM скорость мотор A                | D1           | GPIO5   | enA             | L298N – скорость мотора A                    |
| Направление мотор A (in1)           | D2           | GPIO4   | in1             | L298N                                        |
| Направление мотор A (in2)           | D3           | GPIO0   | in2             | L298N                                        |
| Направление мотор B (in3)           | D4           | GPIO2   | in3             | L298N                                        |
| Направление мотор B (in4)           | D5           | GPIO14  | in4             | L298N                                        |
| PWM скорость мотор B                | D6           | GPIO12  | enB             | L298N – скорость мотора B                    |
| Реле 1 (свет)                       | RX           | GPIO3   | button1         | Выход реле, активный уровень LOW             |
| Реле 2 (сигнализация + зарядка)     | D0           | GPIO16  | button2         | Выход реле, активный уровень LOW             |
| Вход тревоги / датчик движения      | TX           | GPIO1   | button3Rob      | Вход (чтение состояния)                      |
| Серво по оси Y (rightStick)         | D7           | GPIO13  | SERVO1_PIN      | ServoEasing Servo1                           |
| Серво по оси X (leftStick)          | D8           | GPIO15  | SERVO2_PIN      | ServoEasing Servo2                           |


| Назначение                          | Пин на плате | GPIO    | Константа в коде| Примечание                                   |
|:------------------------------------|:-------------|:--------|:----------------|:---------------------------------------------|
| Аналоговый вход                     | A0           | ADC0    | analogPin       | Чтение напряжения/тока (датчик на A0)        |
| PWM скорость мотор A (Left/Right)   | D1           | GPIO5   | enA             | BTS7960 – скорость мотора A                  |
| Направление мотор A (вперёд)        | D2           | GPIO4   | in1             | BTS7960                                      |
| Направление мотор A (назад)         | D3           | GPIO0   | in2             | BTS7960                                      |
| Направление мотор B (вперёд)        | D4           | GPIO2   | in3             | BTS7960                                      |
| Направление мотор B (назад)         | D5           | GPIO14  | in4             | BTS7960                                      |
| PWM скорость мотор B (Left/Right)   | D6           | GPIO12  | enB             | BTS7960 – скорость мотора B                  |
| Реле 1 (свет)                       | RX           | GPIO3   | button1         | Выход реле, активный уровень LOW             |
| Реле 2 (сигнализация + зарядка)     | D0           | GPIO16  | button2         | Выход реле, активный уровень LOW             |
| Вход тревоги / датчик движения      | TX           | GPIO1   | button3Rob      | Вход (чтение состояния датчика/кнопки)       |
| Серво по оси Y (rightStick)         | D7           | GPIO13  | SERVO1_PIN      | ServoEasing Servo1                           |
| Серво по оси X (leftStick)          | D8           | GPIO15  | SERVO2_PIN      | ServoEasing Servo2                           |


| Назначение                          | Пин на плате | GPIO    | Константа в коде| Примечание                                   |
|:------------------------------------|:-------------|:--------|:----------------|:---------------------------------------------|
| Аналоговый вход                     | A0           | ADC0    | analogPin       | Чтение напряжения/тока (датчик на A0)        |
| PWM скорость мотор A (Left/Right)   | D1           | GPIO5   | enA             | BTS7960 – скорость мотора A                  |
| Направление мотор A (вперёд)        | D2           | GPIO4   | in1             | BTS7960                                      |
| Направление мотор A (назад)         | D3           | GPIO0   | in2             | BTS7960                                      |
| Направление мотор B (вперёд)        | D4           | GPIO2   | in3             | BTS7960                                      |
| Направление мотор B (назад)         | D5           | GPIO14  | in4             | BTS7960                                      |
| PWM скорость мотор B (Left/Right)   | D6           | GPIO12  | enB             | BTS7960 – скорость мотора B                  |
| Реле 1 (свет)                       | RX           | GPIO3   | button1         | Выход реле, активный уровень LOW             |
| Реле 2 (сигнализация + зарядка)     | D0           | GPIO16  | button2         | Выход реле, активный уровень LOW             |
| Вход тревоги / датчик движения      | TX           | GPIO1   | button3Rob      | Вход (чтение состояния датчика/кнопки)       |
| Серво по оси Y (rightStick)         | D7           | GPIO13  | SERVO1_PIN      | ServoEasing Servo1                           |
| Серво по оси X (leftStick)          | D8           | GPIO15  | SERVO2_PIN      | ServoEasing Servo2                           |
