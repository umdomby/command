Ставки
# + разобраться прибыль\потеря баллов.
# + страница закрытых ставок где участвовал.
# + все события.
# + АДМИКА
# + компонент добавления игроков.
# + рефералы.
# + страница передачи баллов.
# + поля контактов и реквизитов.
# + BUY/PAY - первый отправляет point - устанавливает реквизиты. ПРОВЕРКА. P2P.
# + Создать ничью все points возвращаются.
# + Admin страницы OrderP2P.
# + Сообщение от админа. BANED
# + BANED нельзя ставить ставки, операции заблокированы.
# + ники в закрытых ставках админа
# + на 3-4 игрока.
# + при регистрации отнимать рефералы и регистрационные
# + система 1 миллион
# + Глобальные данные
# + закрывать: подтверждать введением Ника победителя или ничьи
# + Защита - ADMIN
# + настроить меню
# + чат
# + Распределение баллов при закрытии
# + очищать поле ставки
# + пагинация
# + P2P у вас есть открытые сделки.
# + регистрация в один клик
# + закрытие модального окна
# +ссылки на Twitch
# + USER GAMES
# + активность кнопок (показать кто как голосовал)
# + соперник не проголосвал,
# + удалять запись закрытым ... создать ставки
# + Организация Игры
# + сортировка по открытым и старт
# + ставки игроков
# + проверка ставок выплат
# + userGame не возвращает победные очки не закрывает ничью
# + GlobalData
# + Остановка ставок
# + transaction placeBet
# + ошибка на главной в девХром
# + p2p не обновляется
# + globalData p2p
# + минус плюс рейтинг местами
# + остановить ставки - перенести вниз
# + UserGame доп страница для CLOSED
# + transfer telegram
# + telegram p2p
# + диалоговое окно о создании сделки
# + глобальное отключение открытых сделок
# + плавующая статистика - страница
# + p2p с Telegram Points: +100 Price: -100  | купить продать ширина тел
# + p2p после часа распределение points
# + admin удалять p2p Open ? по времени , убрать сделка успешна заключена
# + Рейтинг p2p
# + админка банковские реквизиты изменить удалить - под низ CARD ID
# + переделать чат сверху вниз + SSE
# + ставки победитель, поле описание + доп.статус, "на кого ставить кнопки" с новой строчки если не помещается
# - твитч игроков игры!
# + order-p2p сортировка по своему id
# + купить p2p можно один раз
# + добавить валюту-курсы, за сколько доллар!
# + Support
# + statistics css  + турнир поставленные
# + Регистрация турнира - Wanderer
# + зал славы
# + остановить сделки
# + остановка - "техническое обслуживание" АДМИНОМ.  Приостановлена работу сайта.
# + обновлять курсы кнопкой
# + CardID
# + Тестом - ставки временно приостановлены
# + статистика 1
# + при создании Bet оповещение от сервера
# + убрать нолики P2P
# - P2Pcomp - Вы уверены, что хотите закрыть свою сделку продажи?
# + p2p pending обновления
# + создать таблицу турниров.
# + редактировать запущенные ставки
# + возврат deleteBetWinnLoseClosed2-3-4 found значения. При удалении закрытых ставок.
# + изменять MAP...
# + распределить Points по 20000
# + поиск - количество страниц, кол-во значений
# + открытые ставки для админа 2-3-4
# + коэффициенты 3 и 4 игрока, формирование на 2 и 3 игрока.
# + если ставок больше чем в 1.5 раза - коэф изменяется -%/2  (поставленных и возвращать) в 2 раза -%/4
# + страница регистрации
# + сортировка ставок

-- State Players -- авто ставка

-- 16 игроков, команда 2 - игрока (не стыкуются в играх), игры 4 - каждый сам за себя, 2 на 2
-- Twitch - регистрация на турнир (плюсы турнира 1. Защита от читера)

-- время для ставки, очередь ставки, коэффициент ставки

-- закрыте ставки id-email name -- история ставок пользователя id
-- автоставка галочка и ввод мин.коэффициента
-- win/lose дата, время игры - поля
-- роль в выпадающем списке
-- ИИ -->
-- ставка мин коэфф - очередь   2x - запрет соотношение поставленных.
-- очередь ставок... показывает в какой очереди, изменить коэффициент
-- тесты-запросы - создать ставку.


-- блокировка регистрации


-- Video-Manual.
Kick PokerOK


общее - регистрация, вход, восстановление пароля, роли, реферальные ссылки, регистрация IP 150 points
1. Регистрация - баллы. Если ипи был в системе, реферальные ссылки. Админка.
2. Ставки
3. Распределение баллов
4.  Цвет

1. Турниры. Случайное распределение.
2. Игры между собой на баллы, открытие ставок

1. P2P биржа
2. Трансфер очков

1. Паспределение поинтов всем заинтересованным. - Криптавалюта, другие игры. для ставок для P2P биржи
2. Проект лежит на бесплатном хостинге,  естественно тайминги и задержки. Летает - кеширование
3. Ошибки



Видео! Пользователь


* быстрая модернизация
* раздать Points
* role
* https://www.twitch.tv/heroes3_site/about



- сообщение на емаил телеграм
- margin снять
- дополнительная защита? - отправить доп пароль на почту (пароль входа) (user-user server password) напомнить отправить пароль
- GlobalUserGame?
- Jebus Cross Fast 125. Взносы - POINTS
- информация по игрокам.
- соц. сети, аватарка. страница пользователя. Общий чат слева.
- Организация ставок между собой, откр-закр.
- фильтр событий.
- видеть ставки других игроков.
- быстрый пароль.
- подтверждение закрытие ставок другими игроками.
- турниры - взносы.
- link stream.
- ограничение по времени в создании.
- SEO.
- umdom33@gmail.com сообщение о востановлении

# 1 + Скрывать-раскрывать ставки, инфо закрытой ставки в линию сверху +
# 2 ! Добавление криптовалюты.
# 3 ! Рейтинг игроков по баллам.
# 4 ! Перекрытие ставок.
# 5 + Регистрация - VPN ip +
# 6 ! Страница без регистрации.
# 7 ! Чат 100 лучших, общий и внутренний чат,с начала 10.
# 8 ! рефералы - ссылки.
# 9 ! Кнопка online
# 10 ! Поиск игр.
# 11 ! Добавить игроков на ставки.
# 12 ! Сбор средств на турниры.
# 13 ! Manual

Рефералка с IP
1. Сделать страницу с историей ставок с датами и результатами победы и проигрыша из отдельной таблицы.
2. Создание быстрых ставок. 1-4 игроков.
3. Проверка на наличие игры. на игроков.
4. Создание ставок на турнир.
5. Создавать ставки 3-4 игрока.

Админка
1. Добавление игроков.
2. Добавление игры.
3. Установка игроков 2-4pc.

Завершение ставки
1. После закрытия ставки создателем, ему не перерасчитывается прибыль или потеря баллов.
2. Валидация завершения ставки.
3. Распределение баллов между игроками.
4. Закрытие ставки создателем, и 50% игроков сделавших ставку на победителя.
5. ! реализация восполнения баллов, после ставки первым пользователям.
6. Завершенные события, сохраняются в отдельной таблице.

Биржа
1. Биржа обмена баллов между игроками.
2. Внесение биткойнов.
3. Внесенные биткойны и покупки баллов у системы.


# + удалить начальную ставку +
# + серверная валидация +
# + сделайте тут проверку что сумма ставок при создании не превышает 100 баллов. clientCreateBet +


function calculateOdds(totalWithInitPlayer1: number, totalWithInitPlayer2: number) {
const totalWithInit = totalWithInitPlayer1 + totalWithInitPlayer2;

    // Calculate odds without margin
    const oddsPlayer1 = totalWithInitPlayer1 === 0 ? 1 : totalWithInit / totalWithInitPlayer1;
    const oddsPlayer2 = totalWithInitPlayer2 === 0 ? 1 : totalWithInit / totalWithInitPlayer2;

    return {
        // Округляем до двух знаков после запятой
        oddsPlayer1: Math.floor((oddsPlayer1 * 100)) / 100,
        oddsPlayer2: Math.floor((oddsPlayer2 * 100)) / 100,
    };
} // Функция для расчета коэффициентов

Функция calculateOdds вычисляет коэффициенты для двух игроков на основе их общих сумм, включая начальные ставки. Вот простое объяснение:
Общая сумма: Сложите общие суммы для обоих игроков (totalWithInitPlayer1 и totalWithInitPlayer2), чтобы получить общую сумму (totalWithInit).
Вычисление коэффициентов:
Для Игрока 1: Если totalWithInitPlayer1 равно нулю, коэффициент устанавливается равным 1. В противном случае, разделите общую сумму на totalWithInitPlayer1.
Для Игрока 2: Если totalWithInitPlayer2 равно нулю, коэффициент устанавливается равным 1. В противном случае, разделите общую сумму на totalWithInitPlayer2.
Округление: Вычисленные коэффициенты для обоих игроков округляются до двух знаков после запятой.
Формула:
Коэффициент для Игрока 1 = totalWithInit / totalWithInitPlayer1
Коэффициент для Игрока 2 = totalWithInit / totalWithInitPlayer2
Эта формула обеспечивает, что коэффициенты отражают долю каждого игрока в общей сумме.


    const handleCalculateStatistics = () => {
        startTransition(async () => {
            try {
                await tournamentSumPlayers();
                alert('Статистика обновлена успешно!');
            } catch (error) {
                console.error('Ошибка при обновлении статистики:', error);
                alert('Ошибка при обновлении статистики.');
            }
        });
    };