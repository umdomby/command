Ставки
# + разобраться прибыль\потеря баллов.
# + страница закрытых ставок где участвовал.
# + все события.
# + АДМИКА
# + компонент добавления игроков.
# + рефералы.
# + страница передачи баллов.
# + поля контактов и реквизитов.
# + BUY/PAY - первый отправляет point - устанавливает реквизиты. ПРОВЕРКА. P2P.
# + Создать ничью все points возвращаются.
# + Admin страницы OrderP2P.
# + Сообщение от админа. BANED
# + BANED нельзя ставить ставки, операции заблокированы.
# + ники в закрытых ставках админа
# + на 3-4 игрока.
# + при регистрации отнимать рефералы и регистрационные
# + система 1 миллион
# + Глобальные данные
# + закрывать: подтверждать введением Ника победителя или ничьи
# + Защита - ADMIN
# + настроить меню
# + чат
# + Распределение баллов при закрытии
# + очищать поле ставки
# + пагинация
# + P2P у вас есть открытые сделки.
# + регистрация в один клик
# + закрытие модального окна
# +ссылки на Twitch
# + USER GAMES
# + активность кнопок (показать кто как голосовал)
# + соперник не проголосвал,
# + удалять запись закрытым ... создать ставки
# + Организация Игры
# + сортировка по открытым и старт
# + ставки игроков
# + проверка ставок выплат
# + userGame не возвращает победные очки не закрывает ничью
# + GlobalData
# + Остановка ставок
# + transaction placeBet
# + ошибка на главной в девХром
# + p2p не обновляется
# + globalData p2p
# + минус плюс рейтинг местами
# + остановить ставки - перенести вниз
# + UserGame доп страница для CLOSED
# + transfer telegram
# + telegram p2p
# + диалоговое окно о создании сделки
# + глобальное отключение открытых сделок
# + плавующая статистика - страница
# + p2p с Telegram Points: +100 Price: -100  | купить продать ширина тел
# + p2p после часа распределение points
# + admin удалять p2p Open ? по времени , убрать сделка успешна заключена
# + Рейтинг p2p
# + админка банковские реквизиты изменить удалить - под низ CARD ID
# + переделать чат сверху вниз + SSE
# + ставки победитель, поле описание + доп.статус, "на кого ставить кнопки" с новой строчки если не помещается
# - твитч игроков игры!

-- добавить валюту-курсы, за сколько доллар!
-- Регистрация турнира
-- margin снять
-- order-p2p сортировка по своему id
-- Manual


- остановка - "техническое обслуживание" АДМИНОМ
- дополнительная защита? - отправить доп пароль на почту (пароль входа) (user-user server password) напомнить отправить пароль
- GlobalUserGame?
- Jebus Cross Fast 125. Взносы - POINTS
- информация по игрокам.
- соц. сети, аватарка. страница пользователя. Общий чат слева.
- Организация ставок между собой, откр-закр.
- фильтр событий.
- видеть ставки других игроков.
- быстрый пароль.
- подтверждение закрытие ставок другими игроками.
- турниры - взносы.
- link stream.
- ограничение по времени в создании.
- SEO.
- umdom33@gmail.com сообщение о востановлении

# 1 + Скрывать-раскрывать ставки, инфо закрытой ставки в линию сверху +
# 2 ! Добавление криптовалюты.
# 3 ! Рейтинг игроков по баллам.
# 4 ! Перекрытие ставок.
# 5 + Регистрация - VPN ip +
# 6 ! Страница без регистрации.
# 7 ! Чат 100 лучших, общий и внутренний чат,с начала 10.
# 8 ! рефералы - ссылки.
# 9 ! Кнопка online
# 10 ! Поиск игр.
# 11 ! Добавить игроков на ставки.
# 12 ! Сбор средств на турниры.
# 13 ! Manual

Рефералка с IP
1. Сделать страницу с историей ставок с датами и результатами победы и проигрыша из отдельной таблицы.
2. Создание быстрых ставок. 1-4 игроков.
3. Проверка на наличие игры. на игроков.
4. Создание ставок на турнир.
5. Создавать ставки 3-4 игрока.

Админка
1. Добавление игроков.
2. Добавление игры.
3. Установка игроков 2-4pc.

Завершение ставки
1. После закрытия ставки создателем, ему не перерасчитывается прибыль или потеря баллов.
2. Валидация завершения ставки.
3. Распределение баллов между игроками.
4. Закрытие ставки создателем, и 50% игроков сделавших ставку на победителя.
5. ! реализация восполнения баллов, после ставки первым пользователям.
6. Завершенные события, сохраняются в отдельной таблице.

Биржа
1. Биржа обмена баллов между игроками.
2. Внесение биткойнов.
3. Внесенные биткойны и покупки баллов у системы.


# + удалить начальную ставку +
# + серверная валидация +
# + сделайте тут проверку что сумма ставок при создании не превышает 100 баллов. clientCreateBet +


function calculateOdds(totalWithInitPlayer1: number, totalWithInitPlayer2: number) {
const totalWithInit = totalWithInitPlayer1 + totalWithInitPlayer2;

    // Calculate odds without margin
    const oddsPlayer1 = totalWithInitPlayer1 === 0 ? 1 : totalWithInit / totalWithInitPlayer1;
    const oddsPlayer2 = totalWithInitPlayer2 === 0 ? 1 : totalWithInit / totalWithInitPlayer2;

    return {
        // Округляем до двух знаков после запятой
        oddsPlayer1: Math.floor((oddsPlayer1 * 100)) / 100,
        oddsPlayer2: Math.floor((oddsPlayer2 * 100)) / 100,
    };
} // Функция для расчета коэффициентов

Функция calculateOdds вычисляет коэффициенты для двух игроков на основе их общих сумм, включая начальные ставки. Вот простое объяснение:
Общая сумма: Сложите общие суммы для обоих игроков (totalWithInitPlayer1 и totalWithInitPlayer2), чтобы получить общую сумму (totalWithInit).
Вычисление коэффициентов:
Для Игрока 1: Если totalWithInitPlayer1 равно нулю, коэффициент устанавливается равным 1. В противном случае, разделите общую сумму на totalWithInitPlayer1.
Для Игрока 2: Если totalWithInitPlayer2 равно нулю, коэффициент устанавливается равным 1. В противном случае, разделите общую сумму на totalWithInitPlayer2.
Округление: Вычисленные коэффициенты для обоих игроков округляются до двух знаков после запятой.
Формула:
Коэффициент для Игрока 1 = totalWithInit / totalWithInitPlayer1
Коэффициент для Игрока 2 = totalWithInit / totalWithInitPlayer2
Эта формула обеспечивает, что коэффициенты отражают долю каждого игрока в общей сумме.
