нужно сделать checkBox - если он true то подключение в комнату происходит автоматически 
-после того как подтянутся все devices из localStorage, если devices нет в localStorage то подтягиваются default devices
если checkBox = true то кнопка "Войти в комнату" становится не активной. 
кнопка Войти в комнату должна работать как иработает если checkBox = false
добавь только это, улучшать и изменять дполнительно ничего не надо, дай код целыми блоками, на русском


Выбор устройств: нужно чтобы все устройства записывались в localStorage 
пользователь выбирает устройства и выбранные устройства записываются в localStorage
при новой загрузке страницы, ранее выбранные устройства подключались и устанавливались, 
исправь только это, улучшать и изменять ничего не надо, дай код целыми блоками, на русском


нужно исправить checkbox "Автоматическое подключение" при загрузке страницы (но учти что все параметры должны быть установлены), 
такие как devices из localstorage если их нет в localsorage то устанавливаются default. если checkbox = false то подключение производится через
кнопку -  "Войти в комнату" кнопка работает, создает подключение, в ней ничего не меняй, исправь checkbox для автоматического подключения - подключение происходит сразу при загрузке страницы
Дай полный код.

вот здесь логика кнопки "Войти в комнату" работала, ты добавил чекбокс автоматического подключение при заходе на страницу, кнопка "Войти в комнату" перестала работать, вот показываю старый код где она работала, верни логику работы кнопки подключения


при переходах с автоматического и на ручное войти в комнату не подключается к удаленному видео, но как я перезагружу сервер, 
начинает работать подключаться к удаленному видео, пока я не перезайду на автоматический режим и обратно вход с кнопки, 
посмотри может сервер не правильно обрабатывает, очищает и обновляет данные?

посмотри с автоматическим переподключением и с кнопки войти в комнату, 
ошибка выскакивает когда я снимаю галочку или ставлю на автоматическое подключение, дай полный код отвечай на русском


когда стоит Автоматическое подключение, я снимаю галочку, выхожу с комнаты кнопкой "Покинуть комнату", а потом нажимаю "Войти в комнату"
в комнату заходит но трансляции нет, но когда я перезапускаю браузер с Автоматическоим подключением (true), трансляция появляется.

1 of 1 error
Next.js (15.1.3) out of date (learn more)
Console Error
InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
исправь только это, улучшать и изменять ничего не надо, дай код целыми блоками, на русском

Автоматическое подключение подключение работает, скопируй логику подключения в кнопку "Войти в комнату" 
потому что с кнопки трансляция после автоматического подключения не работает.
дай полный код. На русском.

почему с атоматического подключения работает, а с кнопки Войти в комнату нет? В чем причина? Дай полный код, используй русский язык.
ответ - В автоматическом режиме сначала устанавливается соединение WebSocket, а затем создается офер, а при ручном входе эти действия могут выполняться в неправильном порядке или с неправильными условиями.




1 of 1 error
Next.js (15.1.3) out of date (learn more)
Console Error
InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.


я уже устал второй день настраивать клиент, посмотри сервер, в чем может быть его проблема, сервер должен быть всегда быть активным и принимать соединения. работать всегда бесконечно.
package main
