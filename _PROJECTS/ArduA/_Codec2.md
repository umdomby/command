В WebRTC кодеки формируются браузерами и операционными системами, но их поддержка зависит от разработчиков браузеров (Google, Mozilla, Apple, Microsoft) и производителей устройств (Qualcomm, Apple, Samsung и др.).

Лучшие кодеки для WebRTC в 2024 году
1. Для видео (Video Codecs)
   Лучшие варианты (в порядке приоритета):

Устройство	Браузер (Chrome, Edge, Firefox, Safari)	Нативные приложения (Android/iOS)
Android	VP9, H.264 (HW)	AV1 (новые), H.265 (HEVC), VP9
iPhone	H.264 (обязательно), VP9 (если Safari)	H.265 (HEVC), H.264
Компьютеры	VP9, AV1 (Chrome, Edge), H.264	AV1 (новые), VP9, H.265
Другие (TV, IoT)	H.264 (универсальный)	Зависит от железа (обычно H.264)
H.264 – самый совместимый (поддерживается везде, но не самый эффективный).

VP9 – лучшее качество при низком битрейте (Chrome, Firefox, Edge).

AV1 – будущее WebRTC (экономит трафик, но требует CPU/GPU с поддержкой).

H.265 (HEVC) – хорош для iPhone и новых Android, но требует лицензирования.

2. Для аудио (Audio Codecs)
   Opus – лучший (поддерживается везде, низкая задержка, хорошее качество).

G.711 – для старых устройств (телефония).

AAC – иногда используется, но Opus лучше.

Что выбрать?
Для максимальной совместимости:

Видео: H.264 (Baseline/Main Profile)

Аудио: Opus

Для качества и экономии трафика:

Видео: VP9 (Android/ПК), AV1 (если поддерживается)

Аудио: Opus

Для iPhone/Safari:

Видео: H.264 (обязательно), H.265 (если iOS ≥ 11)

Аудио: Opus

Как проверить поддерживаемые кодеки?
В браузере:

javascript
RTCRtpSender.getCapabilities('video').codecs.map(c => c.mimeType);
RTCRtpSender.getCapabilities('audio').codecs.map(c => c.mimeType);
В нативных приложениях – через API медиа-фреймворков (WebRTC SDK, FFmpeg, MediaCodec).

Вывод
Android/ПК: VP9 или H.264 + Opus.

iPhone: H.264 (или H.265) + Opus.

Универсальное решение: H.264 + Opus (но не лучший битрейт).

Если устройство новое (2022+), пробуйте AV1 – он экономит трафик и даёт лучшее качество.

