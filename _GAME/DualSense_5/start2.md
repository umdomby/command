update
https://controller.dl.playstation.net/controller/lang/en/2100004.html


https://dualshock-tools.github.io/#

https://www.youtube.com/watch?v=kwcWCiF-q04


DSX + SimHUB для ПК


Что включить/выключить в DSX (по вашему скриншоту):


-Параметр Настройка
- Режим тактильной отдачиВКЛ (синяя кнопка)
- Звук в отдачуВКЛОтправляет аудио из SimHub в контроллер.
- Источник звукаDefault DeviceSimHub будет слать сюда звук.
- Задержка (мс)15–30По умолчанию 15 — нормально.
- Назначение каналовКаналы 3 и 4ОБЯЗАТЕЛЬНО! Haptic DualSense использует каналы 3–4 (левый/правый мотор).
- Смешивание звукаOFFЧтобы не мешал системный звук.
- Сквозная передача RumbleВЫКЛВАЖНО! Отключает обычную вибрацию (rumble), чтобы не конфликтовала с SimHub.


# SimHub — ДА, нужен! (без него — только базовая вибрация)
- SimHub → ShakeIt Bass Shakers → Sound Output
  → Выберите "Speaker (DualSense Wireless Controller)"
  → Активировать → Test Now → вибрация в руках!

доступны 4 канала, Rear left и Rear right - это звук,
Front left и Front right это скорее всего тактильные триггеры при их тесте звук идет
на dualsense а тактильных ощущений нет.

Тактильные триггеры (L2/R2 моторы) — НЕ аудио! Они управляются отдельно через HID (не каналы).
Тест Front в SimHub играет звук из спикера DualSense, но курки не вибрируют — это нормально.

HidHide: НЕ меняйте ничего — на скриншоте DualSense НЕ скрыт (галочки сняты). Это правильно!
Игра видит эмулированный Xbox (через DSX), SimHub видит аудио (4 канала). Если скроете — игра потеряет контроллер.

Канал 3: Rear Left (левый мотор рукоятки) — ABS, бордюры
Канал 4: Rear Right (правый мотор) — скорость, сцепление

https://github.com/WujekFoliarz/DualSenseY-v2
https://github.com/WujekFoliarz/DualSenseY-v2/releases

Я настраиваю курки тактильной отдачи в DualSense GridLegends отправляет телеметрию в SimHub порт 20777
шлет данные в DSX на порт 20778
Проблема: SimHub "Вибромоторы" (Vibration Motors) отправляет неправильный формат UDP-данных для DSX —
поэтому данные приходят (GetDSXStatus, RawJson), но DSX их не понимает и триггеры молчат.
Мне нужно, чтобы курок при скорости более 100 км становился тугим.
Шекер бас вибрация есть через 3 и 4 канал звука, а вибромоторы тактильной отдачи не работают.
В SimHub нет место где вставить скрипт я его нигде не нашел, как мне сделать правильный формат?

Триггеры будут нажиматься легче при более высоких оборотах
Триггеры будут проскальзывать и вибрировать, когда автомобиль начнет скользить.
Светодиоды будут менять цвет с зеленого на красный по мере достижения максимальных оборотов.

Я настраиваю курки тактильной отдачи в DualSense GridLegends отправляет телеметрию в SimHub порт 20777
шлет данные в DSX на порт 20778
Давай создадим программу на C# у меня есть VisualStudio 2022 для теста отправим UDP команды на порт в DSX 20778
сделай в программе две кнопки одна будет делать правый триггер тугим, вторая кнопка будет делать его снова мягким.
тут нужно добавить кнопки для теста, отправки данных для тугого курка правого и вторая кнопка чтобы курок стал плавным
UDP port 20778 в DSX v3.14а


Мне нужна программа VisualStudio у которой две кнопки, одна кнопка будет делать в 
Dualsense правый курок твердым, а вторая кнопка будет делать его мягким. Джойстик подключен type-c type-c
VisualStudio 2022, узнай как устроена программа DSX я пришлю тебе файлы, 
и сделай мне правый курок тугим - одна кнопка и вторая кнопка - курок правый мягкий

HidSharp
отключил DS4Windows, reWASD, AntiMicroX и т.д.

HidHide скрывает DualSense от всех, кроме whitelisted приложений.


Обновлённый подход: Интеграция с DualSenseX 1.4.9 (GitHub версия)
Спасибо за скриншоты DLL — это подтверждает, что DSX 1.4.9 использует Mono.Cecil.dll (
для динамического анализа/патчинга), HidSharp.dll (для HID-доступа), Newtonsoft.Json.dll 
(для конфигов) и ViGEmClient.dll (для эмуляции). DSXCommon.dll — это основная библиотека
DSX для API (внутренний namespace DSXCommon), которая экспортирует классы для adaptive triggers 
(TriggerEffect, DualSenseController и т.д.). Она не в NuGet, но легко добавляется как reference.


# ПРАВИЛЬНЫЙ UDP-ФОРМАТ (JSON):
```
```

используй namespace DualSenseUDPApp

Мне нужна программа VisualStudio у которой две кнопки, одна кнопка будет делать в
Dualsense правый курок твердым, а вторая кнопка будет делать его мягким. Джойстик подключен type-c type-c
VisualStudio 2022, узнай как устроена программа DSX какие она принимает UDP пакеты

дай мне код VisualStudio 2022 для управления адаптивными триггерами

Newtonsoft.Json

Обновление: Почему UDP не работает и финальное решение
Спасибо за логи и deps.json — это помогло!
Newtonsoft.Json (для парсинга модов), System.Management (для HID/устройств), TaskScheduler (для мониторинга), Serilog (логи). Это подтверждает, что DSX — нативный app с UDP для модов (OSC/feedback), но UDP для внешнего контроля триггеров — beta с ошибками формата (как твои "Potential format error"). Из поиска (GitHub + Steam):

Логи показывают: Raw Json Data - {"TriggerFeedback":{"Right":{"Mode":"Rigid","Intensity":255}}} — ДАННЫЕ ДОХОДЯТ!
**Ошибка: Failed to display Mod Data. Potential format error — DSX v3.1.4 (Steam) требует формат из модов (RDR2-DualSense, Forza Horizon 5), но не "TriggerFeedback", а "RightTriggerFeedback" с "Mode":1 и "Force" как массив [0,255,0,0,0,0,0].

DSX v3.14 ОСТАЛАСЬ ОДНА ОШИБКА: Failed to display Mod Data. Potential format error

DualSenseAPI установил порт 20778

не нужна программа VisualStudio у которой две кнопки, одна кнопка будет делать в
Dualsense правый курок твердым, а вторая кнопка будет делать его мягким.

хорошо, мне нужна программа в visual studio 2022 которая будет тестировать работу тактильных курков в dualsense

grid legends использует для передачи телеметрии 20777 порт UDP, когда играешь как создатель сессии телеметрия идет, когда подключаешься к сессии телеметрия не показывает данные но пакеты в Wireshark идут, там нужно расшифровать другие пакеты?